{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let UserComponent = class UserComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.users = [];\n    this.selectedUser = null;\n    this.isEditMode = false;\n  }\n  ngOnInit() {\n    this.getUsers();\n  }\n  getUsers() {\n    this.userService.getUsers().subscribe(users => {\n      this.users = users;\n    }, error => {\n      console.error('Error fetching users:', error);\n    });\n  }\n  selectUser(user) {\n    this.selectedUser = {\n      ...user\n    }; // Create a copy of the user to avoid updating the original data immediately\n    this.isEditMode = true;\n  }\n  createUser(user) {\n    this.userService.createUser(user).subscribe(newUser => {\n      this.users.push(newUser);\n      this.clearSelectedUser();\n    }, error => {\n      console.error('Error creating user:', error);\n    });\n  }\n  updateUser(user) {\n    this.userService.updateUser(user).subscribe(updatedUser => {\n      const index = this.users.findIndex(u => u._id === updatedUser._id);\n      if (index !== -1) {\n        this.users[index] = updatedUser;\n        this.clearSelectedUser();\n      }\n    }, error => {\n      console.error('Error updating user:', error);\n    });\n  }\n  deleteUser(userId) {\n    this.userService.deleteUser(userId).subscribe(() => {\n      this.users = this.users.filter(u => u._id !== userId);\n      this.clearSelectedUser();\n    }, error => {\n      console.error('Error deleting user:', error);\n    });\n  }\n  clearSelectedUser() {\n    this.selectedUser = null;\n    this.isEditMode = false;\n  }\n};\nUserComponent = __decorate([Component({\n  selector: 'app-user',\n  templateUrl: './user.component.html',\n  styleUrls: ['./user.component.css']\n})], UserComponent);","map":{"version":3,"names":["Component","UserComponent","constructor","userService","users","selectedUser","isEditMode","ngOnInit","getUsers","subscribe","error","console","selectUser","user","createUser","newUser","push","clearSelectedUser","updateUser","updatedUser","index","findIndex","u","_id","deleteUser","userId","filter","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\metavystic\\Desktop\\test\\MyApp\\frontend\\src\\app\\users\\users.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { User } from '../shared/users.model';\nimport { UserService } from '../shared/users.service';\n\n@Component({\n  selector: 'app-user',\n  templateUrl: './user.component.html',\n  styleUrls: ['./user.component.css'],\n})\nexport class UserComponent implements OnInit {\n  users: User[] = [];\n  selectedUser: User | null = null;\n  isEditMode = false;\n\n  constructor(private userService: UserService) {}\n\n  ngOnInit() {\n    this.getUsers();\n  }\n\n  getUsers() {\n    this.userService.getUsers().subscribe(\n      (users) => {\n        this.users = users;\n      },\n      (error) => {\n        console.error('Error fetching users:', error);\n      }\n    );\n  }\n\n  selectUser(user: User) {\n    this.selectedUser = { ...user }; // Create a copy of the user to avoid updating the original data immediately\n    this.isEditMode = true;\n  }\n\n  createUser(user: User) {\n    this.userService.createUser(user).subscribe(\n      (newUser) => {\n        this.users.push(newUser);\n        this.clearSelectedUser();\n      },\n      (error) => {\n        console.error('Error creating user:', error);\n      }\n    );\n  }\n\n  updateUser(user: User) {\n    this.userService.updateUser(user).subscribe(\n      (updatedUser) => {\n        const index = this.users.findIndex((u) => u._id === updatedUser._id);\n        if (index !== -1) {\n          this.users[index] = updatedUser;\n          this.clearSelectedUser();\n        }\n      },\n      (error) => {\n        console.error('Error updating user:', error);\n      }\n    );\n  }\n\n  deleteUser(userId: string) {\n    this.userService.deleteUser(userId).subscribe(\n      () => {\n        this.users = this.users.filter((u) => u._id !== userId);\n        this.clearSelectedUser();\n      },\n      (error) => {\n        console.error('Error deleting user:', error);\n      }\n    );\n  }\n\n  clearSelectedUser() {\n    this.selectedUser = null;\n    this.isEditMode = false;\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,WAAMC,aAAa,GAAnB,MAAMA,aAAa;EAKxBC,YAAoBC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;IAJ/B,KAAAC,KAAK,GAAW,EAAE;IAClB,KAAAC,YAAY,GAAgB,IAAI;IAChC,KAAAC,UAAU,GAAG,KAAK;EAE6B;EAE/CC,QAAQA,CAAA;IACN,IAAI,CAACC,QAAQ,EAAE;EACjB;EAEAA,QAAQA,CAAA;IACN,IAAI,CAACL,WAAW,CAACK,QAAQ,EAAE,CAACC,SAAS,CAClCL,KAAK,IAAI;MACR,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC,EACAM,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C,CAAC,CACF;EACH;EAEAE,UAAUA,CAACC,IAAU;IACnB,IAAI,CAACR,YAAY,GAAG;MAAE,GAAGQ;IAAI,CAAE,CAAC,CAAC;IACjC,IAAI,CAACP,UAAU,GAAG,IAAI;EACxB;EAEAQ,UAAUA,CAACD,IAAU;IACnB,IAAI,CAACV,WAAW,CAACW,UAAU,CAACD,IAAI,CAAC,CAACJ,SAAS,CACxCM,OAAO,IAAI;MACV,IAAI,CAACX,KAAK,CAACY,IAAI,CAACD,OAAO,CAAC;MACxB,IAAI,CAACE,iBAAiB,EAAE;IAC1B,CAAC,EACAP,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CACF;EACH;EAEAQ,UAAUA,CAACL,IAAU;IACnB,IAAI,CAACV,WAAW,CAACe,UAAU,CAACL,IAAI,CAAC,CAACJ,SAAS,CACxCU,WAAW,IAAI;MACd,MAAMC,KAAK,GAAG,IAAI,CAAChB,KAAK,CAACiB,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACC,GAAG,KAAKJ,WAAW,CAACI,GAAG,CAAC;MACpE,IAAIH,KAAK,KAAK,CAAC,CAAC,EAAE;QAChB,IAAI,CAAChB,KAAK,CAACgB,KAAK,CAAC,GAAGD,WAAW;QAC/B,IAAI,CAACF,iBAAiB,EAAE;;IAE5B,CAAC,EACAP,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CACF;EACH;EAEAc,UAAUA,CAACC,MAAc;IACvB,IAAI,CAACtB,WAAW,CAACqB,UAAU,CAACC,MAAM,CAAC,CAAChB,SAAS,CAC3C,MAAK;MACH,IAAI,CAACL,KAAK,GAAG,IAAI,CAACA,KAAK,CAACsB,MAAM,CAAEJ,CAAC,IAAKA,CAAC,CAACC,GAAG,KAAKE,MAAM,CAAC;MACvD,IAAI,CAACR,iBAAiB,EAAE;IAC1B,CAAC,EACAP,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CACF;EACH;EAEAO,iBAAiBA,CAAA;IACf,IAAI,CAACZ,YAAY,GAAG,IAAI;IACxB,IAAI,CAACC,UAAU,GAAG,KAAK;EACzB;CACD;AAtEYL,aAAa,GAAA0B,UAAA,EALzB3B,SAAS,CAAC;EACT4B,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACW7B,aAAa,CAsEzB"},"metadata":{},"sourceType":"module","externalDependencies":[]}