{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let UserComponent = class UserComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.users = [];\n    this.selectedUser = null;\n    this.isEditMode = false;\n  }\n  ngOnInit() {\n    this.getUsers();\n  }\n  getUsers() {\n    this.userService.getUsers().subscribe({\n      next: users => {\n        this.users = users;\n      },\n      error: error => {\n        console.error('Error fetching users:', error);\n      }\n    });\n  }\n  editUser(user) {\n    this.isEditMode = true;\n    this.selectedUser = {\n      ...user\n    };\n  }\n  selectUser(user) {\n    this.selectedUser = {\n      ...user\n    };\n    this.isEditMode = true;\n  }\n  createUser(user) {\n    this.userService.createUser(user).subscribe({\n      next: newUser => {\n        this.users.push(newUser);\n        this.clearSelectedUser();\n      },\n      error: error => {\n        console.error('Error creating user:', error);\n      }\n    });\n  }\n  updateUser(user) {\n    this.userService.updateUser(user).subscribe({\n      next: updatedUser => {\n        const index = this.users.findIndex(u => u._id === updatedUser._id);\n        if (index !== -1) {\n          this.users[index] = updatedUser;\n          this.clearSelectedUser();\n        }\n      },\n      error: error => {\n        console.error('Error updating user:', error);\n      }\n    });\n  }\n  deleteUser(userId) {\n    this.userService.deleteUser(userId).subscribe({\n      next: () => {\n        this.users = this.users.filter(u => u._id !== userId);\n        this.clearSelectedUser();\n      },\n      error: error => {\n        console.error('Error deleting user:', error);\n      }\n    });\n  }\n  clearSelectedUser() {\n    this.selectedUser = null;\n    this.isEditMode = false;\n  }\n};\nUserComponent = __decorate([Component({\n  selector: 'app-user',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})], UserComponent);","map":{"version":3,"names":["Component","UserComponent","constructor","userService","users","selectedUser","isEditMode","ngOnInit","getUsers","subscribe","next","error","console","editUser","user","selectUser","createUser","newUser","push","clearSelectedUser","updateUser","updatedUser","index","findIndex","u","_id","deleteUser","userId","filter","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\metavystic\\Desktop\\test\\MyApp\\frontend\\src\\app\\users\\users.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { User } from '../shared/users.model';\nimport { UserService } from '../shared/users.service';\nimport { Observer } from 'rxjs';\n\n@Component({\n  selector: 'app-user',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css'],\n})\nexport class UserComponent implements OnInit {\n  users: User[] = [];\n  selectedUser: User | null = null;\n  isEditMode = false;\n\n  constructor(private userService: UserService) {}\n\n  ngOnInit() {\n    this.getUsers();\n  }\n\n  getUsers() {\n    this.userService.getUsers().subscribe({\n      next: (users) => {\n        this.users = users;\n      },\n      error: (error) => {\n        console.error('Error fetching users:', error);\n      },\n    });\n  }\n\n  editUser(user: User) {\n    this.isEditMode = true;\n    this.selectedUser = { ...user };\n  }\n\n  selectUser(user: User) {\n    this.selectedUser = { ...user };\n    this.isEditMode = true;\n  }\n\n  createUser(user: User) {\n    this.userService.createUser(user).subscribe({\n      next: (newUser) => {\n        this.users.push(newUser);\n        this.clearSelectedUser();\n      },\n      error: (error) => {\n        console.error('Error creating user:', error);\n      },\n    });\n  }\n\n  updateUser(user: User) {\n    this.userService.updateUser(user).subscribe({\n      next: (updatedUser) => {\n        const index = this.users.findIndex((u) => u._id === updatedUser._id);\n        if (index !== -1) {\n          this.users[index] = updatedUser;\n          this.clearSelectedUser();\n        }\n      },\n      error: (error) => {\n        console.error('Error updating user:', error);\n      },\n    });\n  }\n\n  deleteUser(userId: string) {\n    this.userService.deleteUser(userId).subscribe({\n      next: () => {\n        this.users = this.users.filter((u) => u._id !== userId);\n        this.clearSelectedUser();\n      },\n      error: (error) => {\n        console.error('Error deleting user:', error);\n      },\n    });\n  }\n\n  clearSelectedUser() {\n    this.selectedUser = null;\n    this.isEditMode = false;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}