{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let UserComponent = class UserComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.users = [];\n    this.selectedUser = null;\n    this.newUser = {};\n    this.isEditMode = false;\n  }\n  ngOnInit() {\n    this.getUsers();\n  }\n  getUsers() {\n    this.userService.getUsers().subscribe(users => {\n      this.users = users;\n    }, error => {\n      console.error('Error fetching users:', error);\n    });\n  }\n  editUser(user) {\n    this.isEditMode = true;\n    this.selectedUser = {\n      ...user\n    };\n  }\n  selectUser(user) {\n    this.selectedUser = {\n      ...user\n    };\n    this.isEditMode = true;\n  }\n  createUser(user) {\n    this.userService.createUser(user).subscribe(newUser => {\n      this.users.push(newUser);\n      this.clearSelectedUser();\n    }, error => {\n      console.error('Error creating user:', error);\n    });\n  }\n  updateUser(user) {\n    this.userService.updateUser(user).subscribe(updatedUser => {\n      const index = this.users.findIndex(u => u._id === updatedUser._id);\n      if (index !== -1) {\n        this.users[index] = updatedUser;\n        this.clearSelectedUser();\n      }\n    }, error => {\n      console.error('Error updating user:', error);\n    });\n  }\n  deleteUser(userId) {\n    this.userService.deleteUser(userId).subscribe(() => {\n      this.users = this.users.filter(u => u._id !== userId);\n      this.clearSelectedUser();\n    }, error => {\n      console.error('Error deleting user:', error);\n    });\n  }\n  clearSelectedUser() {\n    this.selectedUser = null;\n    this.isEditMode = false;\n    this.newUser = {};\n  }\n};\nUserComponent = __decorate([Component({\n  selector: 'app-user',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})], UserComponent);","map":{"version":3,"names":["Component","UserComponent","constructor","userService","users","selectedUser","newUser","isEditMode","ngOnInit","getUsers","subscribe","error","console","editUser","user","selectUser","createUser","push","clearSelectedUser","updateUser","updatedUser","index","findIndex","u","_id","deleteUser","userId","filter","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\metavystic\\Desktop\\test\\MyApp\\frontend\\src\\app\\users\\users.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { User } from '../shared/users.model';\nimport { UserService } from '../shared/users.service';\n\n@Component({\n  selector: 'app-user',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css'],\n})\nexport class UserComponent implements OnInit {\n  users: User[] = [];\n  selectedUser: User | null = null;\n  newUser: User = {} as User;\n\n  isEditMode = false;\n\n  constructor(private userService: UserService) {}\n\n  ngOnInit() {\n    this.getUsers();\n  }\n\n  getUsers() {\n    this.userService.getUsers().subscribe(\n      (users) => {\n        this.users = users;\n      },\n      (error) => {\n        console.error('Error fetching users:', error);\n      }\n    );\n  }\n\n  editUser(user: User) {\n    this.isEditMode = true;\n    this.selectedUser = { ...user };\n  }\n\n  selectUser(user: User) {\n    this.selectedUser = { ...user };\n    this.isEditMode = true;\n  }\n\n  createUser(user: User) {\n    this.userService.createUser(user).subscribe(\n      (newUser) => {\n        this.users.push(newUser);\n        this.clearSelectedUser();\n      },\n      (error) => {\n        console.error('Error creating user:', error);\n      }\n    );\n  }\n\n  updateUser(user: User) {\n    this.userService.updateUser(user).subscribe(\n      (updatedUser) => {\n        const index = this.users.findIndex((u) => u._id === updatedUser._id);\n        if (index !== -1) {\n          this.users[index] = updatedUser;\n          this.clearSelectedUser();\n        }\n      },\n      (error) => {\n        console.error('Error updating user:', error);\n      }\n    );\n  }\n\n  deleteUser(userId: string) {\n    this.userService.deleteUser(userId).subscribe(\n      () => {\n        this.users = this.users.filter((u) => u._id !== userId);\n        this.clearSelectedUser();\n      },\n      (error) => {\n        console.error('Error deleting user:', error);\n      }\n    );\n  }\n\n  clearSelectedUser() {\n    this.selectedUser = null;\n    this.isEditMode = false;\n    this.newUser = {} as User;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}